<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue路由 | 杨林川的部落格</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/myblog/favicon.ico">
    <meta name="description" content="记录学习路上的一些心得">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/myblog/assets/css/0.styles.d5bbc926.css" as="style"><link rel="preload" href="/myblog/assets/js/app.969e92fd.js" as="script"><link rel="preload" href="/myblog/assets/js/3.288b5e4a.js" as="script"><link rel="preload" href="/myblog/assets/js/1.41f3d542.js" as="script"><link rel="preload" href="/myblog/assets/js/4.a9c1ef80.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.d024c923.js"><link rel="prefetch" href="/myblog/assets/js/100.e6c83dfb.js"><link rel="prefetch" href="/myblog/assets/js/11.aa05464e.js"><link rel="prefetch" href="/myblog/assets/js/12.c3ac58ce.js"><link rel="prefetch" href="/myblog/assets/js/13.5115a434.js"><link rel="prefetch" href="/myblog/assets/js/14.c15c85a4.js"><link rel="prefetch" href="/myblog/assets/js/15.fe623f7b.js"><link rel="prefetch" href="/myblog/assets/js/16.4777d8b9.js"><link rel="prefetch" href="/myblog/assets/js/17.04b958e4.js"><link rel="prefetch" href="/myblog/assets/js/18.0a1459cb.js"><link rel="prefetch" href="/myblog/assets/js/19.ef73dc24.js"><link rel="prefetch" href="/myblog/assets/js/20.65160b89.js"><link rel="prefetch" href="/myblog/assets/js/21.f1de910e.js"><link rel="prefetch" href="/myblog/assets/js/22.4b14884a.js"><link rel="prefetch" href="/myblog/assets/js/23.59c4480a.js"><link rel="prefetch" href="/myblog/assets/js/24.d2a337ff.js"><link rel="prefetch" href="/myblog/assets/js/25.1845790a.js"><link rel="prefetch" href="/myblog/assets/js/26.e34e4188.js"><link rel="prefetch" href="/myblog/assets/js/27.5ddef4df.js"><link rel="prefetch" href="/myblog/assets/js/28.394ab3ae.js"><link rel="prefetch" href="/myblog/assets/js/29.e25e822c.js"><link rel="prefetch" href="/myblog/assets/js/30.ae12f44f.js"><link rel="prefetch" href="/myblog/assets/js/31.cb9a1e51.js"><link rel="prefetch" href="/myblog/assets/js/32.f8bae3dc.js"><link rel="prefetch" href="/myblog/assets/js/33.18fe109b.js"><link rel="prefetch" href="/myblog/assets/js/34.6f4a94ce.js"><link rel="prefetch" href="/myblog/assets/js/35.2e0a9460.js"><link rel="prefetch" href="/myblog/assets/js/36.471aa89b.js"><link rel="prefetch" href="/myblog/assets/js/37.b113c5ec.js"><link rel="prefetch" href="/myblog/assets/js/38.f83ef332.js"><link rel="prefetch" href="/myblog/assets/js/39.b20fa231.js"><link rel="prefetch" href="/myblog/assets/js/40.06683f6e.js"><link rel="prefetch" href="/myblog/assets/js/41.f90c0545.js"><link rel="prefetch" href="/myblog/assets/js/42.759a0f83.js"><link rel="prefetch" href="/myblog/assets/js/43.4e3d619b.js"><link rel="prefetch" href="/myblog/assets/js/44.69a086e7.js"><link rel="prefetch" href="/myblog/assets/js/45.8f85441e.js"><link rel="prefetch" href="/myblog/assets/js/46.550ba999.js"><link rel="prefetch" href="/myblog/assets/js/47.de912efe.js"><link rel="prefetch" href="/myblog/assets/js/48.7aacf317.js"><link rel="prefetch" href="/myblog/assets/js/49.b6ecc7eb.js"><link rel="prefetch" href="/myblog/assets/js/5.7a48c68a.js"><link rel="prefetch" href="/myblog/assets/js/50.88924397.js"><link rel="prefetch" href="/myblog/assets/js/51.19242df9.js"><link rel="prefetch" href="/myblog/assets/js/52.2610c87d.js"><link rel="prefetch" href="/myblog/assets/js/53.e2e7f08b.js"><link rel="prefetch" href="/myblog/assets/js/54.3fbced71.js"><link rel="prefetch" href="/myblog/assets/js/55.e23976b1.js"><link rel="prefetch" href="/myblog/assets/js/56.953c0bf6.js"><link rel="prefetch" href="/myblog/assets/js/57.89c0ec1c.js"><link rel="prefetch" href="/myblog/assets/js/58.f4f28f0a.js"><link rel="prefetch" href="/myblog/assets/js/59.882f40e5.js"><link rel="prefetch" href="/myblog/assets/js/6.315b5e4d.js"><link rel="prefetch" href="/myblog/assets/js/60.6d08f334.js"><link rel="prefetch" href="/myblog/assets/js/61.f382eaa2.js"><link rel="prefetch" href="/myblog/assets/js/62.8411494d.js"><link rel="prefetch" href="/myblog/assets/js/63.2417b8b6.js"><link rel="prefetch" href="/myblog/assets/js/64.24e87fbe.js"><link rel="prefetch" href="/myblog/assets/js/65.ae1d4faa.js"><link rel="prefetch" href="/myblog/assets/js/66.7db2e6c9.js"><link rel="prefetch" href="/myblog/assets/js/67.5552326f.js"><link rel="prefetch" href="/myblog/assets/js/68.4d8e98d6.js"><link rel="prefetch" href="/myblog/assets/js/69.21c1b494.js"><link rel="prefetch" href="/myblog/assets/js/7.db1c4c98.js"><link rel="prefetch" href="/myblog/assets/js/70.8a294db7.js"><link rel="prefetch" href="/myblog/assets/js/71.222eca73.js"><link rel="prefetch" href="/myblog/assets/js/72.fcc25d72.js"><link rel="prefetch" href="/myblog/assets/js/73.ef281555.js"><link rel="prefetch" href="/myblog/assets/js/74.b1088f57.js"><link rel="prefetch" href="/myblog/assets/js/75.0ca74257.js"><link rel="prefetch" href="/myblog/assets/js/76.19f4ee52.js"><link rel="prefetch" href="/myblog/assets/js/77.23f72a89.js"><link rel="prefetch" href="/myblog/assets/js/78.0f785ade.js"><link rel="prefetch" href="/myblog/assets/js/79.a0f3829e.js"><link rel="prefetch" href="/myblog/assets/js/8.15393f14.js"><link rel="prefetch" href="/myblog/assets/js/80.03bff1b5.js"><link rel="prefetch" href="/myblog/assets/js/81.0b29ac62.js"><link rel="prefetch" href="/myblog/assets/js/82.dfc1944c.js"><link rel="prefetch" href="/myblog/assets/js/83.7f78308f.js"><link rel="prefetch" href="/myblog/assets/js/84.c3db023c.js"><link rel="prefetch" href="/myblog/assets/js/85.e11e800a.js"><link rel="prefetch" href="/myblog/assets/js/86.46973247.js"><link rel="prefetch" href="/myblog/assets/js/87.19ed2348.js"><link rel="prefetch" href="/myblog/assets/js/88.402978de.js"><link rel="prefetch" href="/myblog/assets/js/89.9c28767a.js"><link rel="prefetch" href="/myblog/assets/js/9.bc50f867.js"><link rel="prefetch" href="/myblog/assets/js/90.eedd305b.js"><link rel="prefetch" href="/myblog/assets/js/91.97efefde.js"><link rel="prefetch" href="/myblog/assets/js/92.1b6c1613.js"><link rel="prefetch" href="/myblog/assets/js/93.26447716.js"><link rel="prefetch" href="/myblog/assets/js/94.725263e0.js"><link rel="prefetch" href="/myblog/assets/js/95.3528eb60.js"><link rel="prefetch" href="/myblog/assets/js/96.fb48f892.js"><link rel="prefetch" href="/myblog/assets/js/97.8682cb7f.js"><link rel="prefetch" href="/myblog/assets/js/98.16db5fb3.js"><link rel="prefetch" href="/myblog/assets/js/99.28b2b301.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.d5bbc926.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-2d5f533b><div data-v-2d5f533b><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-2d5f533b data-v-2d5f533b><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-2d5f533b data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>杨林川的部落格</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>yang</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-2d5f533b><header class="navbar" data-v-2d5f533b><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><img src="/myblog/logo.png" alt="杨林川的部落格" class="logo"> <span class="site-name">杨林川的部落格</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/categories/浏览器/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/网络协议/" class="nav-link"><i class="iconfont undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/Webpack/" class="nav-link"><i class="iconfont undefined"></i>
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/myblog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签索引
</a></div><div class="nav-item"><a href="/myblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2d5f533b></div> <aside class="sidebar" data-v-2d5f533b><div class="personal-info-wrapper" data-v-ca798c94 data-v-2d5f533b><img src="/myblog/avatar.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    yang
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>83</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>13</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/categories/浏览器/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/网络协议/" class="nav-link"><i class="iconfont undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/Webpack/" class="nav-link"><i class="iconfont undefined"></i>
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/myblog/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/myblog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签索引
</a></div><div class="nav-item"><a href="/myblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>vue路由</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>yang</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-2d5f533b><main class="page"><div class="page-title" style="display:none;"><h1 class="title">vue路由</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>yang</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2020-01-10</span></i> <i class="iconfont reco-eye" data-v-3b7f5bdf><span id="/myblog/blogs/vue/vue-router/17-vue-router.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-3b7f5bdf><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>Vue</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="十七-vue-router"><a href="#十七-vue-router" class="header-anchor">#</a> （十七）vue-router</h1> <h2 id="_17-1路由简介"><a href="#_17-1路由简介" class="header-anchor">#</a> 17.1	路由简介</h2> <p><strong>什么是路由？</strong></p> <ul><li><p>路由就是通过互联的网络把信息用源地址传送到目的地的活动</p></li> <li><p>路由提供了两种机制：路由和传送</p> <ul><li>路由是决定数据包从来源到目的地的路径</li> <li>转送就是将数据转移</li></ul></li> <li><p>路由表</p> <ul><li>路由表本质就是一个映射表，决定了数据包的指向</li></ul></li></ul> <h2 id="_17-2前端-后端路由"><a href="#_17-2前端-后端路由" class="header-anchor">#</a> 17.2	前端/后端路由</h2> <ol><li>后端渲染（服务端渲染）
jsp技术
后端路由，后端处理URL和页面映射关系，例如springmvc中的@requestMapping注解配置的URL地址，映射前端页面</li> <li>前后端分离（ajax请求数据）
后端只负责提供数据
静态资源服务器（html+css+js）
ajax发送网络请求后端服务器，服务器回传数据
js代码渲染dom</li> <li>单页面富应用（SPA页面）
前后端分离加上前端路由，前端路由的url映射表不会向服务器请求，是单独url的的页面自己的ajax请求后端，后端只提供api负责响应数据请求。改变url，页面不进行整体的刷新。
整个网站只有一个html页面。</li></ol> <h2 id="_17-3url的hash和html5的history"><a href="#_17-3url的hash和html5的history" class="header-anchor">#</a> 17.3	URL的hash和HTML5的history</h2> <h3 id="_17-3-1url的hash"><a href="#_17-3-1url的hash" class="header-anchor">#</a> 17.3.1	URL的hash</h3> <ul><li>URL的hash是通过锚点(#)，其本质上改变的是window.location的href属性。</li> <li>可以通过直接赋值location.hash来改变href，但是页面并不会发生刷新。</li></ul> <p><img src="data:image/png;base64,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" alt=""></p> <p>使用命令<code>vue init webpack 01-vue-router-vuecli2</code>创建新的vuecli2工程,等待创建完成后，使用<code>npm run dev</code>启动服务器，在浏览器通过 http://localhost:8080 进入工程主页。 测试通过改变hash，查看是否会刷新页面，浏览器的url地址是否改变。</p> <p><img src="/myblog/assets/img/17-2.efba099c.gif" alt=""></p> <blockquote><p>结论</p></blockquote> <p>测试发现url的地址栏改变了变成了http://localhost:8080/#/zty  ，通过查看network发现只有favicon.ico资源重新请求了，这个是工程的logo图标，其他资源都未请求。可以通过改变hash改变url，此时页面是未刷新的。</p> <p>vue-router其实用的就是这样的机制，改变url地址，这个url地址存在一份路由映射表里面，比如<code>/user</code>代表要请求用户页面，只要配置了这个路由表（路由关系），就可以前端跳转而不刷新页面，所有的数据请求都走ajax。</p> <h3 id="_17-3-1html5的history模式"><a href="#_17-3-1html5的history模式" class="header-anchor">#</a> 17.3.1	HTML5的history模式</h3> <blockquote><p>pushState</p></blockquote> <p>同样的使用HTML5的history模式也是不会刷新页面的,history对象栈结构，先进后出，pushState类似压入栈中，back是回退。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>hristory<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'/foo'</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/myblog/assets/img/17-3.db38f4d6.png" alt=""></p> <blockquote><p>replaceState</p></blockquote> <p>replaceState模式与pushState模式区别在于replaceState模式浏览器没有返回只是替换，不是压入栈中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'home'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/myblog/assets/img/17-4.81309c7e.png" alt=""></p> <blockquote><p>go</p></blockquote> <p>go只能在pushState模式中使用，go是前进后退到哪个历史页面。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//回退一个页面</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//前进一个页面</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//等价于go(1)</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//等价于go(-1)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_17-4vue-router的安装配置"><a href="#_17-4vue-router的安装配置" class="header-anchor">#</a> 17.4	vue-router的安装配置</h2> <ol><li><p>使用<code>npm install vue-router --save</code>来安装vue-router插件模块</p></li> <li><p>在模块化工程中使用他(因为是一个插件，所以可以通过Vue.user来安装路由功能)</p> <ul><li>在src下创建一个router文件夹（一般安装vue-router时候会自动创建）用来存放vue-router的路由信息导入路由对象，并且调用<strong>Vue.use(VueRouter)</strong></li> <li>创建路由实例，并且传入路由<strong>映射配置</strong></li> <li>在vue实例中挂载创建的<strong>路由实例对象</strong></li></ul> <blockquote><p>router文件夹中的index.js</p></blockquote></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 配置路由相关信息
 * 1.先导入vue实例和vue-router实例
 */</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'@/components/HelloWorld'</span>

<span class="token comment">// 2. 通过Vue.use(插件)，安装插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token comment">//3. 创建 router路由对象</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">//配置路由和组件之间的对应关系</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span><span class="token comment">//url</span>
    name<span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> HelloWorld <span class="token comment">//组件名</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//配置路由和组件之间的应用关系</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//4.导出router实例</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>main.js中挂载router对象</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//使用路由对象，简写对象增强写法</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_17-4vue-router的使用"><a href="#_17-4vue-router的使用" class="header-anchor">#</a> 17.4	vue-router的使用</h2> <h3 id="_17-4-1创建路由组件"><a href="#_17-4-1创建路由组件" class="header-anchor">#</a> 17.4.1	创建路由组件</h3> <p>在components文件夹下创建2个组件。</p> <blockquote><p>Home组件</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是首页的内容,123456.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Home'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>About组件</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是关于页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是关于页面的内容，about。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'About'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_17-4-2配置路由映射-组件和路径映射关系"><a href="#_17-4-2配置路由映射-组件和路径映射关系" class="header-anchor">#</a> 17.4.2	配置路由映射：组件和路径映射关系</h3> <p>在路由与组件对应关系配置在<code>routes</code>中。</p> <blockquote><p>修改index.js</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/components/Home'</span>

<span class="token comment">// 2. 通过Vue.use(插件)，安装插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token comment">//3. 创建 router路由对象</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">//配置路由和组件之间的对应关系</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//home  前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home <span class="token comment">//组件名</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token comment">//about 前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/About'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//配置路由和组件之间的应用关系</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//4.导出router实例</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_17-4-3使用路由-通过-router-link-和-router-view"><a href="#_17-4-3使用路由-通过-router-link-和-router-view" class="header-anchor">#</a> 17.4.3	使用路由：通过<code>&lt;router-link&gt;</code>和<code>&lt;router-view&gt;</code></h3> <p>在app.vue中使用<code>&lt;router-link&gt;</code>和<code>&lt;router-view&gt;</code> 两个全局组件显示路由。</p> <blockquote><p><code>&lt;router-link&gt;</code>是全局组件，最终被渲染成a标签，但是<code>&lt;router-link&gt;</code>只是标记路由指向类似一个a标签或者按钮一样，但是我们点击a标签要跳转页面或者要显示页面，所以就要用上<code>&lt;router-view&gt;</code>。</p> <p><code>&lt;router-view&gt;</code>  是用来占位的，就是路由对应的组件展示的地方，该标签会根据当前的路径，动态渲染出不同的组件。</p> <p>路由切换的时候切换的是<code>&lt;router-view&gt;</code>挂载的组件，其他不会发生改变。</p> <p><code>&lt;router-view&gt;</code>默认使用hash模式，可以在index.js中配置修改为history模式。</p></blockquote> <blockquote><p>app.vue修改template</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span> |
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用<code>npm run dev</code>启动项目，此时<code>&lt;router-view&gt;</code>在<code>&lt;router-link&gt;</code>下面，那渲染页面就在下面，此时未配置路由的默认值，所以第一次进入网页的时候<code>&lt;router-view&gt;</code>占位的地方是没有内容的。</p> <p><img src="/myblog/assets/img/17-6.1f025a4a.gif" alt=""></p> <h3 id="_17-4-4路由的默认值和history模式"><a href="#_17-4-4路由的默认值和history模式" class="header-anchor">#</a> 17.4.4	路由的默认值和history模式</h3> <blockquote><p>路由的默认值，修改index.js的routes</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token comment">//缺省时候重定向到/home</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//配置路由和组件之间的对应关系</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//home  前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home <span class="token comment">//组件名</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token comment">//about 前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/About'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>添加缺省值，并重定向到<code>/home</code>路径，此时打开http://localhost:8080  ，直接显示home组件内容。</p> <blockquote><p>修改hash模式为history模式，修改index.js的router对象</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//配置路由和组件之间的应用关系</span>
  routes<span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span><span class="token comment">//修改模式为history</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>此时发现浏览器地址栏的URL是没有<code>#</code>的。</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="_17-4-5-router-link-的其他属性"><a href="#_17-4-5-router-link-的其他属性" class="header-anchor">#</a> 17.4.5	<code>&lt;router-link&gt;</code>的其他属性</h3> <ol><li><p><code>to</code>属性：用于跳转到指定路径。</p></li> <li><p><code>tag</code>属性：可以指定<code>&lt;router-link&gt;</code>之后渲染成什么组件使用<code>&lt;router-link to='/home' tag='button'&gt;</code>会被渲染成一个按钮，而不是a标签。</p></li> <li><p><code>relapce</code>属性：在history模式下指定<code>&lt;router-link to='/home' tag='button' replace&gt;</code>使用<code>replaceState</code>而不是pushState，此时浏览器的返回按钮是不能使用的。</p></li> <li><p><code>active-class</code>属性：当<code>&lt;router-link&gt;</code>对应的路由匹配成功的时候，会自动给当前元素设置一个<code>router-link-active</code>的class，设置active-class可以修改默认的名称。</p></li></ol> <ul><li><p>在进行高亮显示的导航菜单或者底部tabbar时，会用到该属性</p></li> <li><p>但是通常不会修改类的属性，会直接使用默认的<code>router-link-active</code></p></li> <li><p><code>&lt;router-link to='/home' tag='button' active-class='active'&gt;</code>此时被选中的<code>&lt;router-link&gt;</code>就会有active的class。</p></li> <li><p>如果每个<code>&lt;router-link&gt;</code>都要加上<code>active-class='active'</code>，那就在路由里面统一更改。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//配置路由和组件之间的应用关系</span>
  routes<span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span><span class="token comment">//修改模式为history</span>
  linkActiveClass<span class="token operator">:</span> <span class="token string">'active'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token attr-name">replace</span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>active<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span> |
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>active<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#app</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Avenir'</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
  <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>修改app.vue文件此时被选中的<code>&lt;router-link&gt;</code>就有了active属性，给active的class加上字体变红的css。</p> <p><img src="/myblog/assets/img/17-8.6db7ca37.png" alt=""></p></li></ul> <h3 id="_17-4-6通过代码修改路由跳转"><a href="#_17-4-6通过代码修改路由跳转" class="header-anchor">#</a> 17.4.6	通过代码修改路由跳转</h3> <blockquote><p>$router属性</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;router-link to=&quot;/home&quot; tag='button' replace active-class='active'&gt;首页&lt;/router-link&gt; |
    &lt;router-link to=&quot;/about&quot; active-class='active'&gt;关于&lt;/router-link&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>homeClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>|
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aboutClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">homeClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//通过代码的路径修改路由</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/home'</span><span class="token punctuation">)</span><span class="token comment">//push 等价于pushState</span>
      <span class="token comment">// this.$router.replace('/home')//replace 等价于replaceState</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;homeClick&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">aboutClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/about'</span><span class="token punctuation">)</span>
      <span class="token comment">// this.$router.replace('/about')//replace 等价于replaceState</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;aboutClick&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#app</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Avenir'</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
  <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>修改app.vue，将<code>&lt;router-link&gt;</code>换成<code>button</code>等任何组件，添加上点击事件，并写好点击事件响应方法，此时使用<code>this.$router.push('/home')</code>，push方法 等价于pushState方法，replace 方法等价于replaceState方法。</p> <h2 id="_17-5渐入vue-router"><a href="#_17-5渐入vue-router" class="header-anchor">#</a> 17.5	渐入vue-router</h2> <h3 id="_17-5-1vue-router的动态路由"><a href="#_17-5-1vue-router的动态路由" class="header-anchor">#</a> 17.5.1	vue-router的动态路由</h3> <p>一个页面的path路径可能是不确定的，例如可能有<code>/user/aaaa</code>或者<code>/user/bbbb</code>，除了<code>/user</code>之外，后面还跟上了用户ID<code>/user/123</code>等。这种path和component的匹配关系，叫动态路由。</p> <blockquote><p>新建一个User组件</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是用户界面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>这里是用户页面的内容。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>用户ID是: {{ userId }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>该组件定义一个计算属性，通过<code>this.$route.params.userId</code>获取处于激活状态的路由参数<code>userId</code>。</p> <blockquote><p>配置路由参数index.js</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/user/:userId'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/User'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用<code>:userId</code>指定动态路由参数<code>userId</code>。</p> <blockquote><p>app.vue中添加user页面的<code>&lt;router-link&gt;</code>，并添加userId变量</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user/ + userId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      userId<span class="token operator">:</span> <span class="token string">'zty'</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>启动项目，点击用户。</p> <p><img src="/myblog/assets/img/17-9.d911792a.png" alt=""></p> <blockquote><p>总结</p></blockquote> <p><code>$route</code>是代表处于激活状态的路由，这里指的也就是</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/user/:userId'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/User'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>通过<code>$route.params</code>获取 <a href="/myblog/blogs/vue/vue-router/[https:/router.vuejs.org/zh/api/#路由对象属性](https:/router.vuejs.org/zh/api/#路由对象属性)"><code>$route</code></a> 所有的参数，<code>$route.params.userId</code>，获取所有参数中的名字叫<code>userId</code>的属性，此时可以在User组件中动态获取路由参数，也就可以在app.vue中动态设置路由中的<code>userId</code>，其他属性请参考 <a href="/myblog/blogs/vue/vue-router/[https:/router.vuejs.org/zh/api/#路由对象属性](https:/router.vuejs.org/zh/api/#路由对象属性)"><code>$route</code></a> 。</p> <h3 id="_17-5-2vue-router的打包文件解析"><a href="#_17-5-2vue-router的打包文件解析" class="header-anchor">#</a> 17.5.2	vue-router的打包文件解析</h3> <blockquote><p>问题：打包时候js太大，页面响应缓慢</p></blockquote> <p>如果组件模块化了，当路由被访问的时候才开始加载被选中的组件，这样就是懒加载，前面也介绍过。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/User'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用<code>npm run build</code>命令将之前创建的项目打包，打开dist文件夹，器目录结构如下：</p> <p><img src="/myblog/assets/img/17-10.89deba4a.png" alt=""></p> <ul><li>app.xxx.js是我们自己编写的业务代码</li> <li>vendor.xxx.js是第三方框架，例如vue/vue-router/axios等</li> <li>mainfest.xxx.js是为了打包的代码做底层支持的，一般是webpack帮我们做一些事情</li> <li>除了这三个还多了2个js，这2个js文件（0.5bxxx.js和1.e5xxx.js）分别是About和User组件，因为这2个组件是懒加载的所以被分开打包了。</li></ul> <p><img src="/myblog/assets/img/17-11.0003b505.png" alt=""></p> <p>此时因为是懒加载，需要用到这个组件的时候才会加载，所以不会一次性请求所有js。</p> <h3 id="_17-5-3认识嵌套路由"><a href="#_17-5-3认识嵌套路由" class="header-anchor">#</a> 17.5.3	认识嵌套路由</h3> <p>平常在一个home页面中，我们可能需要<code>/home/news</code>和<code>/home/message</code>访问一些内容，一个路由映射一个组件就像后端一个api对应一个controller的一个requestMapping一样，访问两个路由也会分别渲染这两个组件。</p> <p><img src="/myblog/assets/img/17-12.1d15a659.png" alt=""></p> <p>要实现嵌套路由：</p> <ol><li><p>创建对应的子组件，并且在路由映射(<code>router/index.js</code>)中配置对应的子路由。</p></li> <li><p>在组件内部使用<code>&lt;router-view&gt;</code>标签来占位。</p> <blockquote><p>新建2个组件HomeNews和HomeMessage</p></blockquote></li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item + index + 1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'HomeNews'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'新闻'</span><span class="token punctuation">,</span> <span class="token string">'新闻'</span><span class="token punctuation">,</span> <span class="token string">'新闻'</span><span class="token punctuation">,</span> <span class="token string">'新闻'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item + index + 1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'HomeMessage'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'消息'</span><span class="token punctuation">,</span> <span class="token string">'消息'</span><span class="token punctuation">,</span> <span class="token string">'消息'</span><span class="token punctuation">,</span> <span class="token string">'消息'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>配置嵌套路由</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//home  前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home<span class="token punctuation">,</span> <span class="token comment">//组件名</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">'/home/news'</span><span class="token comment">//缺省时候重定向到/home/news</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'news'</span><span class="token punctuation">,</span><span class="token comment">//子嵌套路由 无须加/</span>
        name<span class="token operator">:</span> <span class="token string">'News'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HomeNews'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'message'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Message'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HomeMessage'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>修改Home.vue组件加上<code>&lt;router-link&gt;</code>和<code>&lt;router-view/&gt;</code></p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是首页的内容,123456.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新闻<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>|
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>消息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="/myblog/assets/img/17-13.6df6bfae.png" alt=""></p> <h3 id="_17-5-4vue-router的参数传递"><a href="#_17-5-4vue-router的参数传递" class="header-anchor">#</a> 17.5.4	vue-router的参数传递</h3> <p>之前的动态路由说的<code>userId</code>也是参数传递的方式的一种，准备新建一个Profile.vue组件，并配置路由映射，添加指定的<code>&lt;router-link&gt;</code>。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是档案界面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>这里是档案页面的内容。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>档案的名字是: {{ profileInfo.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>档案的年龄是: {{ profileInfo.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>档案的身高是: {{ profileInfo.height }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Profile'</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">profileInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>profileInfo
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/profile'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Profile'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/Profile'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ path: <span class="token punctuation">'</span>/profile<span class="token punctuation">'</span>, query: { profileInfo } }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>档案<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在app.vue中设置初始的对象<code>profileInfo</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      userId<span class="token operator">:</span> <span class="token string">'zty'</span><span class="token punctuation">,</span>
      profileInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;zty&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token number">177</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>传递参数主要有两种类型：params和query</p> <blockquote><p>params的类型也就是动态路由形式</p></blockquote> <ul><li>配置路由的格式：<code>/user/:userId</code></li> <li>传递的方式：在path后面跟上对应的userId</li> <li>传递形成的路径：<code>/user/123</code>，<code>/user/xxx</code></li> <li>通过<code>$route.params.userId</code>获取指定userId</li></ul> <blockquote><p>query的类型</p></blockquote> <ul><li>配置路由的格式：<code>/profile</code>，也就是普通的配置</li> <li>传递的方式：对象中使用query的key作为传递的方式</li> <li>传递形成的路径：<code>/profile?name=zty&amp;age=24&amp;height=177</code>（这个传递的是三个键值对），<code>/profile?profileInfo=%5Bobject%20Object%5D</code>（这个query传递的是一个对象的键值对，key为profileInfo，value是一个对象）</li></ul> <p><img src="/myblog/assets/img/17-14.0b40df72.png" alt=""></p> <p>使用代码编写传递数据，使用<code>button</code>代替<code>&lt;router-link&gt;</code>，并添加点击事件。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profileClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>档案<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">userClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/user/'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userId<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;userClick&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">profileClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> profileInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>profileInfo
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'/profile'</span><span class="token punctuation">,</span>
        query<span class="token operator">:</span> <span class="token punctuation">{</span>
          profileInfo
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;profileClick&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_17-5-6router和route的由来"><a href="#_17-5-6router和route的由来" class="header-anchor">#</a> 17.5.6	router和route的由来</h3> <p>vue全局对象<code>this.$router</code>与main.js导入的router对象是一个对象，也就是我们<code>router/index.js</code>导出的对象router。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//使用路由对象</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//4.导出router实例</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>this.$route</code>对象是当前处于活跃的路由，有params和query属性可以用来传递参数。</p> <p>查看<code>vue-router</code>源码,在我们项目中的<code>router/index.js</code>中，vue 对于插件必须要使用<code>Vue.use(Router)</code>，来安装插件，也就是执行vue-router的<code>install.js</code>。</p> <p>在<a href="https://github.com/vuejs/vue-router/tree/dev/src" target="_blank" rel="noopener noreferrer">vue-router的github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>源码中查看src结构如下：</p> <p><img src="/myblog/assets/img/17-15.9f4a5219.png" alt=""></p> <p>其中index.js是入口文件，入口js文件就是导入并执行了install.js文件。</p> <p><img src="/myblog/assets/img/17-16.b6bf700a.png" alt=""></p> <blockquote><p>发现</p></blockquote> <p>install.js中有注册2个全局组件<code>RouterView</code>和<code>RouterLink</code>，所以我们能使用<code>&lt;router-view&gt;</code>和<code>&lt;router-link&gt;</code>组件。</p> <p><img src="/myblog/assets/img/17-17.c35b74cd.png" alt=""></p> <blockquote><p>$router和$route是继承自vue的原型</p></blockquote> <p>怎么理解原型？学过Java 的都知道有父类和子类，子类也可以有自己的子类，但是他们都有一个处于最顶层的类Object(所有类的父类)。在Vue中就有那一个<code>Vue</code>类似Object，在java中在Object中定义的方法，所有的类都可以使用可以重写，类似的<code>Vue.prototype</code>（Vue的原型）定义的属性方法，他的原型链上的对象都可以使用，而<code>$router</code>和<code>$route</code>都在Vue的原型链上。</p> <p>在main.js入口文件中在vue的原型上定义一个方法test，然后在User组件中尝试调用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

<span class="token comment">//在vue的原型上添加test方法</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//使用路由对象</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-contianer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>这是用户界面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>这里是用户页面的内容。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>用户ID是: {{ userId }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//所有组件都继承自vue的原型</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">)</span>
      <span class="token comment">//调用vue原型的test</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>启动项目点击User页面上的按钮，打开浏览器控制台查看日志发现test方法被执行了，而User组件中并未定义test方法，却可以调用。</p> <p><img src="/myblog/assets/img/17-18.54a47b5b.png" alt=""></p> <p>继续来读install.js，install.js中一开始就将<code>Vue</code>这个类当参数传入了install方法中，并把<code>Vue</code>赋值给<code>_Vue</code>。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>继续读install.js发现以下代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$router'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//Object.defineProperty用来定义属性</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$route'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_route <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>Object.defineProperty</code>用来定义属性，以上代码就是给<code>Vue.prototype</code>(Vue原型)添加<code>$router</code>和<code>$route</code>属性并给属性赋值，等价于</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$router <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$router <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>也就是在Vue的原型上添加<code>$router</code>和<code>$route</code>属性,再查看get()返回值<code>this._routerRoot._router</code></p> <p><img src="/myblog/assets/img/17-20.2b99f752.png" alt=""></p> <p>这里的<code>this.$options.router</code>就是我们main.js入口文件传入的参数<code>router</code>，也就是router/index.js导出的<code>router</code>对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//使用路由对象</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_17-6vue-router其他"><a href="#_17-6vue-router其他" class="header-anchor">#</a> 17.6	vue-router其他</h2> <h3 id="_17-6-1vue-router的导航守卫"><a href="#_17-6-1vue-router的导航守卫" class="header-anchor">#</a> 17.6.1	vue-router的导航守卫</h3> <p>问题：我们经常需要在路由跳转后，例如从用户页面跳转到首页，页面内容虽然可以自己定义，但是只有一个html文件，也只有一个title标签，我们需要改变标题。</p> <p>可以使用js去修改title，可以使用vue的生命周期函数在组件被创建的时候修改title标签内容。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//创建的时候修改title</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'关于'</span>
<span class="token punctuation">}</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//数据被挂载到dom上的时候修改title</span>
<span class="token punctuation">}</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//页面刷新的时候修改</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>当然不能每个组件去写生命周期函数，如果我们能监听路由的变化(了解路由从哪来往哪里跳转)，那我们就能在跳转中修改title标签，这就是导航守卫能做的事情。</p> <p>修改<code>router/index.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 前置钩子：从from跳转到to
 * from 来的路由
 * to 要去的路由
 */</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>matched<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">//给目标路由的页面的title赋值</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//必须调用，不调用不会跳转</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>router.beforeEach()称为前置钩子(前置守卫)，顾名思义，跳转之前做一些处理。</p></blockquote> <p>当然每个路由配置上也要加上meta属性，不然就取不到了，为什么要使用<code>matched[0]</code>，因为如果你是嵌套路由，有没有给子路由添加meta（元数据：描述数据的数据）属性，就会显示<code>undefined</code>，使用<code>matched[0]</code>表示取到匹配的第一个就会找到父路由的meta属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//配置路由和组件之间的对应关系</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token comment">//home  前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home<span class="token punctuation">,</span> <span class="token comment">//组件名</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">'首页'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">'/home/news'</span><span class="token comment">//缺省时候重定向到/home/news</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'news'</span><span class="token punctuation">,</span><span class="token comment">//子嵌套路由 无须加/</span>
        name<span class="token operator">:</span> <span class="token string">'News'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HomeNews'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'message'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Message'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HomeMessage'</span><span class="token punctuation">)</span> <span class="token comment">//懒加载组件</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>启动服务发现功能已经实现。</p> <p><img src="/myblog/assets/img/17-21.dd659c21.gif" alt=""></p> <h3 id="_17-6-2导航守卫补充"><a href="#_17-6-2导航守卫补充" class="header-anchor">#</a> 17.6.2	导航守卫补充</h3> <p>前面说了前置守卫router.beforeEach()，相对的应该也存在后置守卫(后置钩子)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 后置钩子
 */</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后置钩子调用了----'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>顾名思义，也就是在跳转之后的回调函数。</p> <ul><li>前置守卫和后置守卫都是<strong>全局守卫</strong>。</li> <li>还有<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E7%9A%84%E5%AE%88%E5%8D%AB" target="_blank" rel="noopener noreferrer">路由独享守卫<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB" target="_blank" rel="noopener noreferrer">组件内的守卫<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>路由独享守卫，路由私有的</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token comment">//about 前端路由地址</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/About'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'来自'</span> <span class="token operator">+</span> from<span class="token punctuation">.</span>path <span class="token operator">+</span> <span class="token string">',要去'</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">'关于'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>beforeEnter</code>的参数与全局守卫一样，修改<code>about</code>路由的参数，添加路由独享守卫，此时只有跳转到<code>about</code>路由，才会打印日志。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAABQCAIAAADZWpbZAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAnySURBVHic7d1PSBttHgfwX/+o72J93Vowut1iIcay7kKxBXVS1kMpuC2rjFAve2h62XrwMgdzsVC8NJfKEhYKbaHg9LTFgkNbHPawPUhIrLKoF0t3LNi32G1yKG8bfUss3XcPD+8wfWbmyTROonG+n0OJk0mexwG/fZ55Zn5z4OzvCQBg3zu42x0AAKgEhB0ABALCDgACAWEHAIFw+GznbncBAKD8DrS3t+92HwAAyg7TWAAIBIQdAAQCwg4AAuFwWb/dMAz2IhKJcFvsrPuYr+0/em9a3GgJ3wkA1cvnsONixTFQ2EYWRmYkCULQY1tci9Yvt/fE/KzH8C26DwDscf6P7Ir+/XNB4xglbCMLLG4fQX5xW+w9cRwkOo4oHVt0+0UAYO8r7zTWruj8VJxZbvniZapr5qYvwzG/vgcAKsP/sHPLI3OYJtjZOqXlJrmCZHELTfo6KLmJrWMfPA7WkHQAVaei09iiE0/6OpJ2EihctgpO0hWdxnKQdADVqNLTWHIZSX3TwM3jCFGwxffTbaqqRqNRItra2pqYmNA0TZbliYmJ+vp6Ikqn07FYjIgURbl27VpNTQ0RTU9Pj4+PE5Gu6+w+lmw2G4/HM5mMv30DAPL9djFzjdX+ltuVJeQ+pLLPZD2e5uO2c73yuAosWJfAyA6g6pRrZFfySMqeaD6OwhyD+FunsQBQjfy8g+JbhzziQDFXGJiSu+S9RQDYx8o1stthrHi5aM4LbjV2J10CgKrmW9hx8eQ4jbUviXIv3C4Ytu/AfdyR42Ur3PKIvc/idVhBcwCwl6GeHQAEAqqeAEAgIOwAIBAONzc373YfAADK7nAul9vtPgAAlB2msQAQCAg7AAgEhB0ABEK5ws7L9be4RrcoHCIAv+xCiScmgLVDiiZX0A4IQCX5eQeF7w+vUVWViGKxmPnCh166NOH7N4sJKlbZd3N7V5blsbGxyclJTdPs7yqKMjg4eP369dIK5O3WkQEoEz9Hdh6ff+hWe47bIstyOByenJz0sYeVb4JjL1xa9GmTgkf/DA0NvXr1yjHpAIDj8zm7ojWEveP+khsbG5eXlw3D0HWdbZFlmW0xDCORSBCRruu6rhuGoWna8vJyKpWSJIltZ7ux0YpjE6qqPnz4cHV11dqEJEmpVMpsQpKkZ8+eKYpivst+tO5mftaNWbHK/Nde38Va2Ir70cSSemZmhv2YSCSMX7Cjwdy8edMwjOXlZVmWHQ+aLMupVIq9m0gkdF1XFGV1dTUajUajUcMwVldXzV8ZoHr5HHb2Jz841i+x4/aRJOnEiRNLS0vmlo6OjqmpqXg8fuzYMZYvY2Njs7OzkUgkHo9fuHCB/UE2NDQ8ffq0o6NjdnaWiEKhkKqquVwuEolcuXIlHA6bQWBv4tSpU+Pj42YTRHTjxo25uTmziZ6eno8fP9IvoRAKhWpra9fX1wcGBvL5PMujixcvig+R+fua/5b2/0F3d3c+nzf/MxgfH2cdiMfjfX19LLxaWlrm5+cjkcjKysrIyIjbQeMkk8nOzs50Op1OpyORSGdnZzKZLKGHAHuKnyWeuNdu0zQv09iBgYFCoWD9G1tcXEwmk5IkbW5uElEoFCKihYUFItI0bWRkhN33Njc3R0SvX79eWFjo6+trb28Ph8OhUMgeKPYmVlZWNE0zm5BlubW1tb29fXh4mIg+f/5MRHV1dc3NzZ2dnUR09OjRfD6fzWZzuVxbW1sqlSr6BAlBbXrH42Dfwj4lSVJvb+/jx4/N7danW2xtbbGN7969e/LkCREtLS0NDg6eO3fOftDW19cFHQbYN3wLO8eacaUtL9r/kndie3v79u3b3NjEYxObm5vs6Tnmlq6urnA4XCgUPnz40NvbWygUMplMJpNJJpOKoty/f//9+/dukVe0bDI3VxWc9+SSWpKky5cvLy4uxmIxtmrB7d/c3FwoFNbW1sS/L8A+5v91doblQYiOE7Si09ienh4iev78uaCVbDZLRN3d3USkKEpra6vjTb5ra2tv3rzp7+/ntntpQtO0fD4/NDRk3bixsXH8+PG3b99ubGycOXOmrq7OfCuZTLKnhbFRJxGpqmo94SU4E2c/JWcIH4jR1dVlnYCbfSOioaGhI0eO2PfP5XJuB622tvbkyZOyLF+6dMn6KRSJgP3E/wUKrvav2/iFY92hv79/fn5ePB/MZDKPHj2SZdkwjNHR0dnZWbfzSnfu3GloaGCRap6n99IEEd29e/f06dPss2y5I5fLNTU1ffr0aWFhoaamhoWFqqpsn1u3blkXVTY2NmpqarjIsI/vHE9rCg6joih1dXVsfmoejbm5ueHhYcMwGhsb2TSciFpaWh48eMA+G4vFHA+apmkvXrwYHR1NJBIvX740v3NmZqa1tRULFLBv+HadnfF12XT7wMSxSLr142z7Dq8O86ICTZgNXb16dWpqyh7Egpm+YL2C7azr+tLSEhtFAoBH5SrL7v0EvGmf3T+g63pbW9u9e/fMpDOcrpjzfn5TcAoPAIrCMygAIBBQ9QQAAgFhBwCBgGdQAEAg4BkUABAImMYCQCAg7AAgEBB2ABAI5S3Lbr9i1stFxdzVs6VdTCu+t5T23TXMACDmc9g51iPiWO8bMyOphJpu4giLfF303H6bveBLuI8E564PgH3M/5Gdl9uerC/cKqOQ5QZ4xxutBGVC3HriOEgU3M8r/o1KK7oJALui0k8XKzo/FWeWW754meqauenLcAx3qgJUF//Dzi2PHMs9OU57rcM6ca0U80vcaofYCyWJq4x4HKwh6QCqTkWnsUUnnvR1JO0kUCK2p2FwL+y9KrqmIeg2AOxxu/CQbMcM+qaBm8cRomCL76fbVFWNRqNEtLW1xSq5y7I8MTFRX19PROl0mj2A1fqkiOnpaVaTTtd1Vnsmm80WfYoFAJTG5xJP5hqr/S3Bs2YEKwPcTNbjaT5uO9crj6vAgnUJjOwAqk65RnYlj6TsiebjKMytTLzZkJdpLABUIz/voPjWIY84UMwVBvtDKkpuAhEGEFjlGtntMFa8XDTnBbcau5MuAUBV8/Mh2YJk4a4NdnvhdsGwfQfu444cL1vhlkfsfRavwwqaA4C9DM+gAIBAQNUTAAgElGUHgEBAWXYACARMYwEgEBB2ABAICDsACASEHQAEAsIOAAKhSNj96g8jh37dUZmuAACUjyjsDtQ2fHfqL9+fv4e8A4BqJwq7n7fzPz758/9+evf9+Xs1zWcr1icAAN8dampqEr3/ZXv7h3/W/vb8d7+7+mXrv19+/E+lOgYA4CePCxQ/l7cXAABlVqTE08H61oY//u1g/W/yz659zv27Mn0CAPCdKOwO1DY0/ukfRPTxX3/FBBYAqprwnN2X7QOH6n5a+TuSDgCqHYp3AkAg/B/K/zAVZnDrkAAAAABJRU5ErkJggg==" alt=""></p> <blockquote><p>组件内的守卫，直接在组件中定义的属性</p></blockquote> <ul><li><code>beforeRouteEnter</code></li> <li><code>beforeRouteUpdate</code> (2.2 新增)</li> <li><code>beforeRouteLeave</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在渲染该组件的对应路由被 confirm 前调用</span>
    <span class="token comment">// 不！能！获取组件实例 `this`</span>
    <span class="token comment">// 因为当守卫执行前，组件实例还没被创建</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在当前路由改变，但是该组件被复用时调用</span>
    <span class="token comment">// 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，</span>
    <span class="token comment">// 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span>
    <span class="token comment">// 可以访问组件实例 `this`</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 导航离开该组件的对应路由时调用</span>
    <span class="token comment">// 可以访问组件实例 `this`</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><code>beforeRouteEnter</code> 守卫 <strong>不能</strong> 访问 <code>this</code>，因为守卫在导航确认前被调用,因此即将登场的新组件还没被创建。</p> <p>不过，你可以通过传一个回调给 <code>next</code>来访问组件实例。在导航被确认的时候执行回调，并且把组件实例作为回调方法的参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过 `vm` 访问组件实例</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意 <code>beforeRouteEnter</code> 是支持给 <code>next</code> 传递回调的唯一守卫。对于 <code>beforeRouteUpdate</code> 和 <code>beforeRouteLeave</code> 来说，<code>this</code> 已经可用了，所以<strong>不支持</strong>传递回调，因为没有必要了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// just use `this`</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>name
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这个离开守卫通常用来禁止用户在还未保存修改前突然离开。该导航可以通过 <code>next(false)</code> 来取消。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from <span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Do you really want to leave? you have unsaved changes!'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_17-6-3完整的导航解析流程"><a href="#_17-6-3完整的导航解析流程" class="header-anchor">#</a> 17.6.3	完整的导航解析流程</h3> <ol><li>导航被触发。</li> <li>在失活的组件里调用离开守卫。</li> <li>调用全局的 <code>beforeEach</code> 守卫。</li> <li>在重用的组件里调用 <code>beforeRouteUpdate</code> 守卫 (2.2+)。</li> <li>在路由配置里调用 <code>beforeEnter</code>。</li> <li>解析异步路由组件。</li> <li>在被激活的组件里调用 <code>beforeRouteEnter</code>。</li> <li>调用全局的 <code>beforeResolve</code> 守卫 (2.5+)。</li> <li>导航被确认。</li> <li>调用全局的 <code>afterEach</code> 钩子。</li> <li>触发 DOM 更新。</li> <li>用创建好的实例调用 <code>beforeRouteEnter</code> 守卫中传给 <code>next</code> 的回调函数。</li></ol> <h2 id="_17-7keep-alive"><a href="#_17-7keep-alive" class="header-anchor">#</a> 17.7	keep-alive</h2> <p>先给Home组件加上<code>created()</code>和<code>destoryed()</code>2个生命周期函数。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Home组件被创建了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destoryed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Home组件被销毁了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>启动项目，某些时候可能有这样的需求，如图所示：</p> <p><img src="/myblog/assets/img/17-23.d8337fa4.gif" alt=""></p> <p><strong>分析</strong></p> <p>在首页和关于组件之间路由跳转的时候，Home组件一直重复创建和销毁的过程，每次创建都是新的Home组件，但是我有这样的需求。当我点击首页消息页面，随后跳转到关于页面，又跳转到首页，此时我希望显示的是首页的消息页面而不是默认的新闻页面，此时就需要<code>keep-alive</code>来使组件保持状态，缓存起来，离开路由后，Home组件生命周期的<code>destroyed()</code>不会被调用，Home组件不会被销毁。</p> <ul><li><code>keep-alive</code>是Vue内置的一个组件，可以使被包含的组件保留状态，或者避免重新渲染。</li> <li><code>router-view</code>也是一个组件，如果用<code>&lt;keep-alive&gt;&lt;router-vie/&gt;&lt;/keep-alive&gt;</code>，将其包起来，所有路径匹配到的视图组件都会被缓存。</li></ul> <p><strong>修改<code>app.vue</code>代码</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>再次启动项目，发现还是新闻页面？难道是<code>keep-alive</code>无效？</p> <p><img src="/myblog/assets/img/17-24.c7a2b9c7.gif" alt=""></p> <p>仔细看控制台发现，在跳转关于页面的时候Home组件并没有被销毁，说明<code>keep-alive</code>生效了。仔细查看路由配置发现，<code>/home</code>被默认重定向到了<code>/home/news</code>。所以在访问<code>/home</code>的时候每次出来的都是新闻。</p> <p><strong>思路</strong></p> <ul><li><p>将默认的重定向去掉，但是第一次进入首页，那新闻页面内容又不会显示了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>      <span class="token comment">// {</span>
      <span class="token comment">//   path: '',</span>
      <span class="token comment">//   redirect: '/home/news'//缺省时候重定向到/home/news</span>
      <span class="token comment">// },</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>为了第一次能使新闻页面内容显示，可以使用<code>created()</code>，将路由用代码的方式手动重定向，也就是push。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Home组件被创建了'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/home/news'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>由于<code>keep-alive</code>组件只创建一次，第一次进入Home组件的时候，新闻页面显示正常，当第二次跳转首页的时候，因为不会再调用<code>created()</code>，所以新闻页面又不会显示了。</p></li> <li><p>为了解决问题，在Home组件中引入<code>activated()</code>和<code>deactivated()</code>两个函数，这2个函数与<code>keep-alive</code>有关，不使用<code>keep-alive</code>的这两个函数无效。</p> <ul><li><code>activated()</code>当组件属于进入活跃状态的时候调用</li> <li><code>deactivated()</code>当组件属于退出活跃状态的时候调用(此时路由已经跳转，所以不能在此方法中修改路由，因为修改的是to路由)</li></ul></li> <li><p>为了使第二次进入首页新闻页面可以生效，使用<code>activated()</code>在Home组件使活跃状态时候就重定向</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/home/news'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用actived'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token comment">//在活跃的时候将保存的路由给当前路由</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用actived'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token comment">//变成不活跃状态，将最后的路由保存起来</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>发现还是不行，由于<code>deactivated()</code>调用的时候，此时路由已经跳转，所以不能在此方法中修改路由，因为修改的是to路由。</p></li> <li><p>使用路由守卫(组件内守卫)，<code>beforeRouteLeave (to, from , next)</code>在离开路由的时候将当前的路由赋值给path并保存起来。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用actived'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// deactivated(){</span>
  <span class="token comment">//   console.log('调用actived')</span>
  <span class="token comment">//   console.log(this.$route.path)</span>
  <span class="token comment">//   this.path = this.$route.path</span>
  <span class="token comment">// },</span>
  <span class="token function">beforeRouterLeave</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>此时问题完全解决了。</p> <p><img src="/myblog/assets/img/17-25.0aa24409.gif" alt=""></p></li></ul> <p><strong>keep-alive的属性</strong></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们将<code>&lt;router-view/&gt;</code>包起来，那所有的组件都会缓存，都只会创建一次，如果我们需要某一个组件每次都创建销毁，就需要使用<code>exclude</code>属性。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">exclude</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Profile,User<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此时<code>Profile</code>和<code>User</code>组件（这里组件需要有name属性，分别为<code>Profile</code>和<code>User</code>）就被排除在外，每次都会创建和销毁。相对应的也有<code>include</code>属性，顾名思义就是包含，只有选中的才有<code>keep-alive</code>。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Profile,User<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>include</code>和<code>exclude</code>都是使用字符串和正则表达式，使用字符串的时候，注意“,”之后之前都别打空格。</p></blockquote> <h2 id="_17-8综合练习-实现tab-bar"><a href="#_17-8综合练习-实现tab-bar" class="header-anchor">#</a> 17.8	综合练习-实现Tab-Bar</h2> <p><img src="/myblog/assets/img/17-26.342f798d.gif" alt=""></p> <h3 id="_17-8-1实现tab-bar思路"><a href="#_17-8-1实现tab-bar思路" class="header-anchor">#</a> 17.8.1	实现Tab-Bar思路</h3> <ol><li>下方单独的<code>Tab-Bar</code>组件如何封装？
<ul><li>自定义<code>Tab-Bar</code>组件，在APP中使用</li> <li>让<code>Tab-Bar</code>位置在底部，并设置你需要的样式</li></ul></li> <li><code>Tab-Bar</code>中显示的内容由外部决定
<ul><li>定义插槽</li> <li>flex布局平分<code>Tab-Bar</code></li></ul></li> <li>自定义<code>Tab-Bar-Item</code>，可以传入图片和文字
<ul><li>定义<code>Tab-Bar-Item</code>，并定义两个插槽：图片和文字</li> <li>给插槽外层包装<code>div</code>，设置样式</li> <li>填充插槽，实现底部<code>Tab-Bar</code>的效果</li></ul></li> <li>传入高亮图片
<ul><li>定义另一个插槽，插入<code>active-icon</code>的数据</li> <li>定义一个变量<code>isActicve</code>，通过<code>v-show</code>来决定是否显示对应的icon</li></ul></li> <li><code>Tab-Bar-Item</code>绑定路由数据
<ul><li>安装路由：<code>npm install vue-router --save</code></li> <li>在<code>router/index.js</code>配置路由信息，并创建对应的组件</li> <li><code>main.js</code>中注册<code>router</code></li> <li><code>App.vue</code>中使用<code>router-link</code>和<code>router-view</code></li></ul></li> <li>点击item跳转到对应的路由，并且动态决定<code>isActive</code> <ul><li>监听<code>item</code>的点击，通过<code>this.$router.replace()</code>替换路由路径</li> <li>通过<code>this.$route.path.indexOf(this.link)!==-1</code>来判断是否使<code>active</code></li></ul></li> <li>动态计算active样式
<ul><li>封装新的计算属性：<code>this.isActive?{'color': 'red'}:{}</code></li></ul></li></ol> <h3 id="_17-8-2代码实现"><a href="#_17-8-2代码实现" class="header-anchor">#</a> 17.8.2	代码实现</h3> <p>使用<code>vue init webpack 02-vue-router-tabbar-v1</code>新建一个项目工程(使用<code>vuecli2</code>)。</p> <ol><li><p>在文件夹assest下新建css/base.css,用于初始化css</p> <blockquote><p>base.css</p></blockquote> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>修改App.vue，添加初步样式</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tar-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tar-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tar-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>分类<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tar-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tar-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* style中引用使用@import */</span>
  <span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./assets/css/base.css'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>

  <span class="token selector">#tar-bar</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f6f6f6<span class="token punctuation">;</span>

    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>

    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 -1px  1px <span class="token function">rgba</span><span class="token punctuation">(</span>100<span class="token punctuation">,</span> 100<span class="token punctuation">,</span> 100<span class="token punctuation">,</span> .2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.tar-bar-item</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><blockquote><p>使用npm run dev，查看网页效果</p></blockquote> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUEAAAIyCAIAAADaMu+UAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AABRYSURBVHic7dxfaFP3w8fx44MXpusEE2FSs4VemPpcVLpurJy5i0LKhigqOLF0iC4iChKobDgyDSJVwmRQIYNRhi4ilIwhrGVD5uzIzXbmGLVYGHq8KMVSJpojlJHTC8Hn4svvkCe2tX+i7ed53q+rmTXxnOa8v+d7vudsq54+fWoB0LR583//13JvA4DFW7VqFQ0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D2mgY0EbDgDYaBrTRMKCNhgFtNAxoo2FAGw0D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" style="zoom:75%;"> <blockquote><p>思考：如果每次都要复用tabbar，那每次都需要复制粘贴，应该要把tabbar抽离出来，vue就是组件化思想。</p></blockquote></li> <li><p>将tabbar抽离成组件</p> <p>在components下新建tabbar文件夹，新建<code>TarBar.vue</code>和<code>TabBarItem.vue</code>,<code>TabBarItem</code>组件是在组件<code>TarBar</code>中抽取出来的，可以传入图片和文字（比如首页），所有需要使用插槽<code>&lt;slot&gt;</code>代替。</p> <blockquote><p>TarBar.vue</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code></code></pre> <div class="line-numbers-wrapper"></div></div></li></ol> <div id="tab-bar"></div> <script type="text/ecmascript-6">
   export default {
     name: 'TabBar'
   }
   </script> <style scoped="scoped">
     #tab-bar {
       display: flex;
       background-color: #f6f6f6;
&lt;!--beforebegin--&gt;&lt;div class=&quot;language- extra-class&quot;&gt;&lt;!--afterbegin--&gt;&lt;pre&gt;&lt;code&gt;   position: fixed;
   left: 0;
   right: 0;
   bottom: 0;

   box-shadow: 0 -1px  1px rgba(100, 100, 100, .2);
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;!--beforeend--&gt;&lt;/div&gt;&lt;!--afterend--&gt;   </style>
   ```
<p>TabBar弄一个slot插槽用于插入TabBarItem组件（可能插入多个）.</p> <blockquote><p>TabBarItem.vue</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- item-icon表示图片插槽 item-text表示文字插槽，例如首页 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'TabBarItem'</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.tab-bar-item img</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>TabBarItem组件中插入2个插槽一个用于插入图片一个用于插入文字。</p> <blockquote><p>MainTabBar.vue</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-tab-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBar</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBarItem</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/home.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>item-text</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBarItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBarItem</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/categories<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-icon</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/categories.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-text</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>分类<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBarItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBarItem</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/shop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-icon</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/shopcart.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-text</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBarItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBarItem</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/me<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-icon</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/profile.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#item-text</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBarItem</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> TabBar <span class="token keyword">from</span> <span class="token string">&quot;@/components/tabbar/TabBar&quot;</span>
  <span class="token keyword">import</span> TabBarItem <span class="token keyword">from</span> <span class="token string">&quot;@/components/tabbar/TabBarItem&quot;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;MainTabBar&quot;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      TabBar<span class="token punctuation">,</span>
      TabBarItem
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>在MainTabBar组件中加入另外2个组件。</p> <blockquote><p>注意此处使用<code>~assets</code>和<code>@/components</code>是使用了别名配置，[详情请看17.8.3别名配置](#17.8.3	别名配置)</p></blockquote> <p>最后在app.vue中导入MainTabBar组件。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MainTabBar</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MainTabBar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MainTabBar <span class="token keyword">from</span> <span class="token string">'@/components/MainTabBar'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      MainTabBar
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* style中引用使用@import */</span>
  <span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./assets/css/base.css'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>效果如图所示，将组件进行了分离重组，只要修改MainTabBar组件就可以修改图片和文字描述，可以复用。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAFECAIAAAAFv1P1AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAA8ySURBVHic7dp7cFNnesfx59x0JFmSLbBlnPh+Xccm1MA4CWFZQy6EMnizJEwhbJJht0zCwKQ725RNk+l2pt3ZTfvHTqadJSVk0s2NhiR1uMZZkjqES2ATew3FEKcEMHiNjS0s+aLbOUfn7R9ySEim+9jeSqTT32dgRpKF9Ej66j0XIwkhCOB/Jl/vAeCbDokAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAA4kAQw2Hw9d7BvhGU3Vdv94zwDeayt5DFuLLVy3TFEQSSUIkbZIdmipJEhHZkpSuGYmISCGybTuZTAohiEhWFFmShG0nbZuIJFlWFEWWpGRah7iWqiiTuZuVzNxQVz8sYSeNhBEOh4Wi5mRnOzRNlic+oKl+UnwiRKR8/sSWZcZGw4Oh8fxc/6WLF8g1o7rsRkWRk2nug4iEsI3x0MFDRyKGRSQFbqxoqC3+z9+19w+PEpHL4//Ogludbielf5IvRrIsSiYtyxKCNIf2lSeWJIlIsiXK5EhXPynDNLo/3Pfzf9luO3w/fvLvGqsKFG3is55qIlI0Gv3D95CFSD2xsO3+35977dWXuy+N3nb7t9vf2ZlTt+Rvf/R9h6YmJSndq4ictLqP7d3403+2iYjI7Z35k40//MdnnonEDSKSFM8vf/VPf1JZnO4xrhlJiPhoqL2jw5CctzXO19Vr9v1lWZFl2ZbT/s58mWan3h7qP3/qhxt/HI4ZRJSVV/bCr54pyvOlfmTKUztGmdQqIoRIJq1g/4WXX/p1VJt5c23ubz94u284nGWa4trNUDoJMxaJG0bqimZER0eipmEYE7fEE6aVsVGukoiCwaGOo789dfqkU7vmzSyvmbewsV53OjI+FBFR8MpQ3LJs2yYia3woODx6NZGpmlQitp0MBQde/vW/XjZcjvDZ33Rc+c6ihZHxw2YiljAtTVMztZZK0tUnkr5w9WpGZriGM8v3p8uWuxP9//Biy1d+dHOj2Ti39rocCwghdN2lyLIsy0Qkqw5ddwghpvcWTWLNESI8dGnbc1tGJa803n/sRPdw8PL+9w6U1zWIsZ5d/3EkbpjTeOIpkyQ9y+vzZLndbrfb7fPNyPZ7fV5P6qrX53NpauYbkWVZdzorvzWbkkY8kfjyH8u0MrjEXsOyTE3Pal58W5ZTd3t8S5vv12TLsqa51zypVSQ6NuwrrAt3Hfn45H8lbSGEiIxe+eDgoRXLm/vPfmolv52R74pUUDH3oTWrY4ZFJOUVVd1UV/GDtav7QxEi0rNyinNzMjHF18iykntjWZbTER9PXDvvxN8Ms5PW0Xf+7RfP/3tZ/W1P/vXfkBXd9cbLj+1760dP/uyu+VXy1BeSSSQiUUHZTaudzvW7XzGt5Iy8WTM8em9vrxmPBsfkn2x4MMupTeelTJkUj4ZPnT4dM5NE5A8bc6tnnTj1ydBIhIh0z4wlSxZnZ2SOr80lKS5/7oxsQzZmzpw5Kz/g9/tvmFVQU9vg1if1DfzflbTMlnc+GBkdPXH03dPtB0gI0zQFSbt3tixu2OyY+lI7mdcgKYqqOzTbtolE4x3N351f/Iuf/+z3YVMI4XI6FVnOxIG/SA6eO3no2EeptdvtOTOv8oYPjhyLJAwiIsl97+o1+Xn+DAzyNZIsK4H8wtU/uG+GR9c0TVEUpyvrxoICTVUyv6Uxjejlocu2LSTJNgyDhBBCCJIGB/oM03KoU959nlTmEkmyomiapmm2x5edO3OGU3doGqmaKk3xCOqPkbSTpmWlLltW0jKTVtKyJm6Z2Hu/LgQl47Hx9vaPPE6ViMxEPByV/vIvNngyeyovxbZH4pEk0edtfD5jLBETYjpv0WRXQtWV07zi3pGoefO3ytxe/7Ll9wbHjaqbZk9j2zZtsiSpysT3UlFkWZlARCQp1+WIJkXY9vj42PcWL5tXdQMR9XS3//2zr0fjiZnZnswPI8ler889GDO+crPX453eWzS5RCRJc/lW/dlaIUjTHJJE31v1QNIWiqIqSqZWEUn2F5RVlZUmkjYR5QTKKquKa8pLrowniEhzZQd8HonouhxC6E7P43/1ZEFxcZZbJ6Ky6jk/3Vw003cd+iAi3el7dP2f7z/yUST2xe6z2+NfvHS57pjOXuOkzq6mLojUb0MkiVKfhBBfPhuR9rOrtm0aif6BgaQtiEjP8s30uUNXgjHDIiJZdRTMyndoaobPrqYu2HbSNExVc6S+MEnLtJJC09TUaYkMjyRs2zAShmna9hffF1lWNIemOxzS1M+D84nA/3P4L0XAUJ566in2Tvv37/d6vaZpvvfeexUVFaFQqL29/cK1PB6P2+1O66yRSKS9vT0ajQ4ODubl5RFROBw+f/68qqp79uypqak5ceJEfn5+Wvdbu7u7T58+HYvFzpw5oyiK1+slotHR0d27d5eWlra1tRUVFanqxB6eZVmtra0lJSVXb0mr0dHRrq6uY8eODQ8PDw0NJRKJnJwcItqzZ09BQYFlWe+++251dfVUH5bZ0PT29h44cMA0zZ6eHp/P5/f7HQ5HU1NTUVERER08eLC0tLS4uHjar2ryhBCtra2VlZXl5eUvvvjiihUrAoEAEXV1dRHRxx9/XFNTU1FRkZ+fn9Yxdu7cWVFR0d3d/dlnn/X19VmWtXz58mg02t/fv2jRopaWlsLCQlVVGxoauru729raEomE3z9xtubRRx+tq6tL32wXLlw4fPjw/PnzJUmKxWLj4+NOp/PSpUuHDh2aM2dOaWnpCy+8oOv6nDlzHnnkkck/LL8v0tHRcfLkyf7+/ry8PFVVZ8+ePW/evNbWViGE0+kUQiQSCUmSli1b9se9wD/Etu2dO3fm5+fffvvtRBQKhbZu3Xr33XcrijI0NNTW1vbJJ5+sXLmypKQk3cnu2LEjEokMDg5WV1fX19cT0fHjx4no8uXLXq+3vLx8bGxsbGwsEAgsWrTozTffXLFixfvvv3/HHXe4XK70TUVEiURi27ZtbW1tPp+PiOLxeF5eXk1NjcPhuP/++zs6Onp6eh544IFEIrFr165169ZN/pH5BXBwcDAQCJSXlxPR+Pj44OAgETkcjoaGhmAwGI/HCwsLOzs7p/vSJsW27ZKSktdff33btm2pTd66deuKi4uPHj06MjLy2GOPHT9+vLa2trW11eVyZWBVq6+vd7vdfX19WVlZLpdrwYIFzz333C233DI8POz1eiVJys3N7evru3jxYktLS1dX19DQUGFhYVNTk6al65cVuq5v2rSpuLh41qxZPp+vr6/P5XKpqvrhhx8+++yzhmGsWbNm3759TU1NU31/+EQ0TSsrK0utlqFQ6Pz581d/NDAwkNrapZuqqvPmzUtt7FetWvXpp5/G4/Hs7Gyn0xkOh996661z584NDg6mPrC0TuJyuUzTNAxjYGBA13WHw1FUVPTGG2/Ytm1Zls/nu3jxYk1NDRGVlJRs3ryZiPbu3ZuZVeSll17q7OxctmxZeXn5rl27qqqqmpubT5069dBDD3V2dgYCgcrKyr6+vqk+8jR3oxYuXNjb23vo0KGcnBy/35/WrUyKEOLw4cO1tbVEFAqFdF3XNO2uu+5KJBLbt29vaGgIBAJLliyR0/wLgerq6tbW1sbGxiVLliiK0tnZ6fF4Hn744e3bt+fl5Q0MDFRUVFiWFYvFnn/++ZGRESI6c+ZMV1eXpml1dXX33HNPmgbTdX39+vV79+4tLi4+ePDg0NDQ2rVr33777Xg8HgqFYrEYEc2dOzcYDF65cmVKj8wnEolEXnvtNafTSUTxeLy+vr63t3fLli233nrr448/rut6MBh89dVX77vvvoKCgum9PJZpmq+88kpFRUV2dvYTTzxRWlr64IMPxmKxHTt2GIaxcuXK3NzcCxcuPP30042NjXfeeWeaxohEImfPnt20aVNPT49hGFu2bFEUZcOGDUQkSVI0GrVtOxgMhsPh5ubmBQsWpP5VZlYRImppaWlvb6+qqmpqalq6dOnWrVsLCgpycnJkWXY6ndFodOvWrQMDAxs3bpzSw+LUGTDUzByyw/9d/w2yQgtDyMs6QgAAAABJRU5ErkJggg==" alt=""></p> <ol start="3"><li><p>如何实现点击首页首页字体变红图片变红色</p> <p>这里需要用到路由的<code>active-class</code>。</p> <blockquote><p>思路：引用2张图片，一张是正常颜色一张是红色，使用<code>v-if</code>和<code>v-else</code>来处理是否变色，在路由处于活跃状态的时候，变红色。</p></blockquote> <p>引入路由使用路由就不细说了，这里仅贴上tabbar的修改代码。</p> <blockquote><p>TabBarItem.vue组件</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>activeStyle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- item-icon表示图片插槽 item-text表示文字插槽，例如首页 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!isActive<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon-active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:isActive}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'TabBarItem'</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span><span class="token punctuation">{</span>
      path<span class="token operator">:</span>String<span class="token punctuation">,</span>
      activeColor<span class="token operator">:</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span>String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'red'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">activeStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">?</span> <span class="token punctuation">{</span>color<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeColor<span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">itemClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.tab-bar-item img</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><ol><li>使用<code>props</code>获取传递的值，这里传递是激活颜色，默认是红色</li> <li>设置计算属性<code>isActive</code>和<code>activeStyle</code>，分别表示激活状态和激活的样式</li> <li>定义<code>itemClick()</code>方法用于获取点击事件，点击后使用代码实现路由跳转，这里使用默认的hash模式</li> <li>使用<code>v-if</code>和<code>v-else</code>来进行条件判断</li></ol> <blockquote><p>MainTabBar.vue组件</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TabBarItem</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/home.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-icon-active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~assets/img/tabbar/home_active.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>item-text</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TabBarItem</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>添加激活状态的图片与未激活的图片并列。</p></li> <li><p>配置路由信息，参考之前的代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>


Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token comment">//缺省时候重定向到/home</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">'../views/home/Home.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/categories'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">'../views/categories/Categories.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/shop'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">'../views/shop/Shop.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/profile'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">'../views/profile/Profile.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  <span class="token comment">// linkActiveClass:&quot;active&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><img src="/myblog/assets/img/17-29.59172e0c.png" alt=""></p></li> <li><p>修改main.js和App.vue</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MainTabBar</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MainTabBar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MainTabBar <span class="token keyword">from</span> <span class="token string">'@/components/MainTabBar'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      MainTabBar
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* style中引用使用@import */</span>
  <span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./assets/css/base.css'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ol> <h3 id="_17-8-3别名配置"><a href="#_17-8-3别名配置" class="header-anchor">#</a> 17.8.3	别名配置</h3> <p>经常的我们向引入图片文件等资源的时候使用相对路径，诸如<code>../assets/xxx</code>这样的使用<code>../</code>获取上一层，如果有多个上层就需要<code>../../xxx</code>等等这样不利于维护代码。此时就需要一个能获取到指定目录的资源的就好了。</p> <blockquote><p>配置</p></blockquote> <p>在<code>webpack.base.config</code>中配置使用别名，找到resolve:{}模块，增加配置信息</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'assets'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'components'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/components'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'views'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'scr/views'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这里<code>@</code>指定目录是<code>src</code>，例如<code>@/components</code>表示<code>src/components</code>目录，<code>assets</code>表示<code>src/assets</code>前缀，如果是<code>assets/img</code>就表示<code>src/assets/img</code>目录。</p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/22/2021, 8:12:12 AM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/myblog/assets/js/app.969e92fd.js" defer></script><script src="/myblog/assets/js/3.288b5e4a.js" defer></script><script src="/myblog/assets/js/1.41f3d542.js" defer></script><script src="/myblog/assets/js/4.a9c1ef80.js" defer></script>
  </body>
</html>
